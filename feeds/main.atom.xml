<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>bysputnikus</title><link href="https://sputnikus.github.io/" rel="alternate"></link><link href="https://sputnikus.github.io/feeds/main.atom.xml" rel="self"></link><id>https://sputnikus.github.io/</id><updated>2014-05-29T00:00:00+02:00</updated><entry><title>Dokku on Debian: Tips &amp; Tricks</title><link href="https://sputnikus.github.io/dokku_debian" rel="alternate"></link><updated>2014-05-29T00:00:00+02:00</updated><author><name>Martin Putniorz</name></author><id>tag:https://sputnikus.github.io,2014-05-29:dokku_debian</id><summary type="html">&lt;p&gt;As you might know, &lt;a href="https://github.com/progrium/dokku"&gt;Dokku&lt;/a&gt; officially supports Ubuntu (14.04 x64 or 12.04 x64). But Ubuntu (at least on server) is just Debian, so there&amp;#8217;s no reason, why it should not work, right? Wrong - but I&amp;#8217;m gonna show you problems and possible solution, that I&amp;#8217;ve&amp;nbsp;used.&lt;/p&gt;
&lt;h2&gt;Dokku&amp;nbsp;installation&lt;/h2&gt;
&lt;p&gt;First problem you encounter during execution of bootstrap script. It uses &lt;code&gt;add-apt-repository&lt;/code&gt; helper, which is custom Ubuntu command. Workaround is pretty easy, but a little bit messy - you just get your own helper&amp;nbsp;script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="go"&gt;# wget http://blog.anantshri.info/content/uploads/2010/09/add-apt-repository.sh.txt&lt;/span&gt;
&lt;span class="go"&gt;# cp add-apt-repository.sh.txt /usr/sbin/add-apt-repository&lt;/span&gt;
&lt;span class="go"&gt;# chmod o+x /usr/sbin/add-apt-repository&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now just execute bootstrap again and all should be fine.&amp;nbsp;Right?&lt;/p&gt;
&lt;h2&gt;sshcommand&lt;/h2&gt;
&lt;p&gt;Dokku is using &lt;a href="https://github.com/progrium/sshcommand"&gt;sshcommand&lt;/a&gt; to propagate itself through &lt;code&gt;ssh&lt;/code&gt;. This is really neat, because during bootstrap &lt;em&gt;dokku&lt;/em&gt; user is created to execute commands remotely. There&amp;#8217;s only a tiny little problem. This user is passwordless and works only on key basis. Which is cool if you are on Ubuntu, because such user is fully operational. Debian on the other hand just &lt;strong&gt;locks it&lt;/strong&gt;. Without password you are screwed even if you disable password auth through &lt;em&gt;secure shell&lt;/em&gt;. Solution? Just add some random password to &lt;em&gt;dokku&lt;/em&gt; user (I&amp;#8217;ve generated it using &lt;a href="http://www.passwordstore.org/"&gt;pass&lt;/a&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;local&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;pass&lt;/span&gt; &lt;span class="nx"&gt;generate&lt;/span&gt; &lt;span class="nx"&gt;citra&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;dokku&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;remote&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nx"&gt;usermod&lt;/span&gt; &lt;span class="na"&gt;-p&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;new_password&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="nx"&gt;dokku&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;remote&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nx"&gt;passwd&lt;/span&gt; &lt;span class="na"&gt;-u&lt;/span&gt; &lt;span class="nx"&gt;dokku&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;acl-add&lt;/h2&gt;
&lt;p&gt;Adding you public key to &lt;em&gt;dokku&lt;/em&gt; control keys is also kinda tricky. Standard command from project &lt;span class="caps"&gt;README&lt;/span&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="nx"&gt;cat&lt;/span&gt; &lt;span class="err"&gt;~&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;.ssh&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;id_rsa.pub&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nx"&gt;ssh&lt;/span&gt; &lt;span class="nx"&gt;progriumapp.com&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sudo sshcommand acl-add dokku &amp;lt;alias&amp;gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;does not work, because (at least in my case), sudo considered parts of my key my passwords (if you are a badass with passwordless sudo, you are going to be fine). So I just executed it on the&amp;nbsp;server:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nx"&gt;sshcommand&lt;/span&gt; &lt;span class="nx"&gt;acl&lt;/span&gt;&lt;span class="na"&gt;-add&lt;/span&gt; &lt;span class="nx"&gt;dokku&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;alias&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;paste&lt;/span&gt; &lt;span class="nb"&gt;key&lt;/span&gt;&lt;span class="p"&gt;)^&lt;/span&gt;&lt;span class="nb"&gt;D&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Deploy&lt;/h2&gt;
&lt;p&gt;Now you should be able to just deploy and use dokku@your_server shell according to &lt;span class="caps"&gt;README&lt;/span&gt;. I&amp;#8217;m considering writing a follow-up about some &lt;a href="https://github.com/progrium/dokku/wiki/Plugins"&gt;plugins&lt;/a&gt; and how to get them working without Ubuntu underneath. Have you encountered any other issues with Dokku on Debian? Please, share it in&amp;nbsp;comments.  &lt;/p&gt;</summary><category term="devops"></category></entry><entry><title>Jumping into running project</title><link href="https://sputnikus.github.io/running_projects" rel="alternate"></link><updated>2013-08-19T16:15:00+02:00</updated><author><name>Martin Putniorz</name></author><id>tag:https://sputnikus.github.io,2013-08-19:running_projects</id><summary type="html">&lt;p&gt;Recently I&amp;#8217;ve landed a new job in a company with some projects in very advanced state of developement. They gave me time to became familiar with the source code, server layout, operation side of project. I&amp;#8217;ve made a terrible mistake - I was reading the code instead of doing something with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s almost impossible to learn how to program by only reading the book. It&amp;#8217;s same with the software projects - you have to learn about it by doing it. By tinkering with the codebase, you&amp;#8217;ll get better orientation in it, seeing all the connections between components. By running release on some testing/staging server, you&amp;#8217;ll go through all the steps necessary to deploy&amp;nbsp;application.&lt;/p&gt;
&lt;p&gt;That said, it&amp;#8217;s better to start your work on project not by immersing yourself into reading the source code, but by picking up on some issue from GitHub/Trello/etc. and working on it. Very specialized task? Doesn&amp;#8217;t matter, at least you are producing something. Slow progress? Well, still better than reading your eyes off and then spend the same time fixing it. Because you are still mostly paid for editing project, not reading&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;So next time you hear somebody telling you: &amp;#8220;We&amp;#8217;re gonna give you time, just go through the source code and then give us some time estimations on tasks X, Y, Z.&amp;#8221;, just answer with: &amp;#8220;I&amp;#8217;m going to work on&amp;nbsp;Z&amp;#8221;.&lt;/p&gt;</summary><category term="programming"></category></entry><entry><title>Initial Commit</title><link href="https://sputnikus.github.io/initial_commit" rel="alternate"></link><updated>2013-07-15T14:11:00+02:00</updated><author><name>Martin Putniorz</name></author><id>tag:https://sputnikus.github.io,2013-07-15:initial_commit</id><summary type="html">&lt;p&gt;What do you say in your first post on new blog? Frankly, I don&amp;#8217;t know. With this I&amp;#8217;m forcing myself a little bit into writing habit. I made couple of short posts, now sitting in my Dropbox, but I want to push this forward, become more&amp;nbsp;consistent.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t expect me to pull &lt;a href="http://paulgraham.com/" title="Paul Graham's blog"&gt;&lt;span class="caps"&gt;PG&lt;/span&gt;&lt;/a&gt;-style essays right from the start. Those articles are legendary and if I can make something like that from time to time, I&amp;#8217;ll be&amp;nbsp;happy.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Testing gif" src="http://assets.sbnation.com/assets/1349764/Happy_gif.gif" title="Does this even gif?" /&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m interested to write about hacking some stuff (mostly software), my thoughs, geek stuff in general and a lots of other things (see &lt;a href="https://sputnikus.github.io/pages/about"&gt;info&lt;/a&gt; about what I like). I also want to use this opportunity to sharpen my language skills, so feel free to punish my mistakes in comments (also, let&amp;#8217;s see if comments&amp;nbsp;works).&lt;/p&gt;
&lt;p&gt;This template will be under heavy development and you can write your opinions about it to &lt;a href="https://sputnikus.github.io/pages/contact-me"&gt;me&lt;/a&gt; or file an &lt;a href="https://github.com/sputnikus/bysputnikus-pelican-theme/issues"&gt;issue&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That&amp;#8217;s it for now, I think. I&amp;#8217;ll be aiming for at least two posts per week (but when there&amp;#8217;s&amp;nbsp;nothing&amp;#8230;).&lt;/p&gt;</summary><category term="writing"></category><category term="misc"></category></entry></feed>